(function(){function h(){var a;isNaN(a=parseFloat($("#money").val().replace(/,/gi,"")))&&(a=0);var b=Math.ceil(100*(6.5-a/14E6))/100;5.2>b&&(b=5.2);var d=1E4*Math.floor(a/(6E3*b)),c=10*Math.floor(1E4*Math.floor(a/(1E4*b))/(1E3*parseFloat($("#category").val()))),b=Math.round(100*(6.5-b)/6.5)+"%";$("#views").val(addComma(d));$("#discount").val(b);$("#clicks").val(addComma(c));1E3>a||$("#money").val(addComma(a))}function k(){var a,b="even";$(".colors").each(function(){$(this).css("border-left",$(this).val()+
" solid 20px")});a='<style type="text/css">';var d=$("#width_perc").val()?$("#width_perc").val()+"%":$("#width_px").val()+"px";if($("#border-width").val())var c="padding:"+$("#border-padding").val()+"px;direction:rtl;border:"+$("#border-width").val()+"px solid "+$("#border-color").val()+";";a+="#arzlive table,#arzlive td,#arzlive th,#arzlive tr{padding:0;margin:0;border:0;white-space:nowrap;}";a+="#arzlive .mxv a{display:block;}";var g=$("#height_px").val()?"height:"+$("#height_px").val()+"px;":"";
a=a+"#arzlive{display:none;width:"+d+";overflow:auto;"+g+"}#arzlive table{margin:0;"+c+"}";g=$("#td-padding").val()?$("#td-padding").val():5;a=a+"#arzlive td,#arzlive th{padding:"+g+"px;direction: rtl;text-align:right;}";$("#time-color").val()&&(c="color:"+$("#time-color").val()+";");$("#time-size").val()&&(c=c+"size:"+$("#time-size").val()+"px;");c&&(a=a+"#arzlive #mx_update,#arzlive #mx_update {"+c+"}");a=a+"#arzlive table{width:"+d+";margin:0;"+c+"}";$("#header-backcolor").val()&&(c="background-color:"+
$("#header-backcolor").val()+";");a=a+"#arzlive th,#arzlive th a{font-size:"+$("#font_header").val()+"px;color:"+$("#head-color").val()+";"+c+"}";a+="#arzlive th a{padding:0;margin:0;text-decoration:none;background:none;}";a=a+"#arzlive td{font-size:"+$("#font_size").val()+"px;color:"+$("#font-color").val()+";}";a=a+"#arzlive .odd{background-color:"+$("#price-title-color").val()+";}#arzlive .odd td{font-size:"+$("#price-title-size").val()+"px;}";a=a+"#arzlive .even{background-color:"+$("#price-color").val()+
";}#arzlive .even td{font-size:"+$("#price-size").val()+"px;}";a=a+"#arzlive .pos{color:"+$("#pos").val()+";}#arzlive .neg{color:"+$("#neg").val()+";}#arzlive .same{color:"+$("#same").val()+";}";a+="</style>";a+='<div id="arzlive">';if("h"==$("input:radio[name=type]:checked").val())a+='<table><tr><th><a href="http://www.arzlive.com" id="mx_lnk">نرخ طلا و ارز</a></th><th>تغییر</th></tr>',$("#currencies input").each(function(){$(this).prop("checked")&&(a=a+'<tr class="odd"><td colspan="2">'+$(this).parent().text()+
"</td></tr>",a=a+'<tr class="even"><td id="v'+$(this).attr("id")+'"></td><td id="c'+$(this).attr("id")+'"></td></tr>')}),a+='</table><span id="mx_update"></span></div>';else{var e,f;a+='<table class="mxv">';e='<th><a href="http://www.arzlive.com" id="mx_lnk">نرخ طلا و ارز</a></th>';f='<td class="'+b+'" id="mx_update"></td>';$("#currencies input").each(function(){$(this).prop("checked")&&(b="odd"==b?"even":"odd",e=e+"<th>"+$(this).parent().text()+"</th>",f=f+'<td class="'+b+'"> <span id="v'+$(this).attr("id")+
'"></span><div id="c'+$(this).attr("id")+'"></div></td>')});a=a+"<tr>"+e+"</tr>";a=a+"<tr>"+f+"</tr>";a+="</table></div>"}$("#code").val(a).trigger("change")}$(function(){void 0!=$("#money").val()&&h();$("body").delegate("#ads input,#ads select","keyup change",function(){h()})});$(function(){$("body").delegate(".tools","change keyup",function(){k()}).delegate("#code","change keyup",function(){$("#preview").html($("#code").val());mx_run()});k()})})();
